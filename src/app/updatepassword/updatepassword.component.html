<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="rgb(255, 255, 123)" type="timer" [fullScreen]="true">
</ngx-spinner>
<particles [params]="myParams" [style]="myStyle" [width]="width" [height]="height"></particles>

<div class="d-flex justify-content-center mt-5 container">
    <div class="my-5 w-75">
        <h1 class="my-3 text-primary">
            Update password
        </h1>

        <form [formGroup]="updatePasswordForm" (ngSubmit)="submitUpdatePasswordForm(updatePasswordForm)">
            <div class="form-floating mb-3">
                <input [ngClass]="{'is-valid': updatePasswordForm.get('oldPassword')?.errors==null}" formControlName="oldPassword" type="password" class="form-control text-primary border-primary bg-transparent" id="oldPassword" placeholder="Old password">
                <label class="text-primary" for="oldPassword">Old password</label>
                <div *ngIf="updatePasswordForm.get('oldPassword')?.errors!=null && updatePasswordForm.get('oldPassword')?.touched" class="alert alert-danger mt-2 fw-bolder bg-transparent border-danger">
                    <p *ngIf="updatePasswordForm.get('oldPassword')?.errors?.required">Old password is required</p>
                    <p *ngIf="updatePasswordForm.get('oldPassword')?.errors?.pattern">Invalid old password</p>
                </div>
            </div>
            <div class="form-floating mb-3">
                <input [ngClass]="{'is-valid': updatePasswordForm.get('newPassword')?.errors==null}" formControlName="newPassword" type="password" class="form-control text-primary border-primary bg-transparent" id="newPassword" placeholder="New password">
                <label class="text-primary" for="newPassword">New password</label>
                <div *ngIf="updatePasswordForm.get('newPassword')?.errors!=null && updatePasswordForm.get('newPassword')?.touched" class="alert alert-danger mt-2 fw-bolder bg-transparent border-danger">
                    <p *ngIf="updatePasswordForm.get('newPassword')?.errors?.required">New password is required</p>
                    <p *ngIf="updatePasswordForm.get('newPassword')?.errors?.pattern">New password should contain at least 8 characters 1 number 1 lowercase character 1 uppercase character</p>
                </div>
            </div>
            <div class="form-floating mb-3">
                <input [ngClass]="{'is-valid': updatePasswordForm.get('cNewPassword')?.errors==null&&updatePasswordForm.get('cNewPassword')?.value===updatePasswordForm.get('newPassword')?.value}" formControlName="cNewPassword" type="password" class="form-control text-primary border-primary bg-transparent"
                    id="cNewPassword" placeholder="Confirm new password">
                <label class="text-primary" for="cNewPassword">Confirm new password</label>
                <div *ngIf="updatePasswordForm.get('cNewPassword')?.errors!=null && updatePasswordForm.get('cNewPassword')?.touched" class="alert alert-danger mt-2 fw-bolder bg-transparent border-danger">
                    <p *ngIf="updatePasswordForm.get('cNewPassword')?.errors?.required">Confirm new password is required</p>
                </div>
                <p class="alert alert-danger mt-2 fw-bolder bg-transparent border-danger" *ngIf="updatePasswordForm.get('cNewPassword')?.value!=updatePasswordForm.get('newPassword')?.value && updatePasswordForm.get('cNewPassword')?.touched">Confirm new password must match new password</p>
            </div>
            <button [disabled]="updatePasswordForm.invalid||updatePasswordForm.get('cNewPassword')?.value!=updatePasswordForm.get('newPassword')?.value" type="submit" class="btn btn-outline-primary">Update</button>
            <i (click)="cancle()" class="btn btn-outline-danger ms-3">Cancle</i>
        </form>
    </div>
</div>